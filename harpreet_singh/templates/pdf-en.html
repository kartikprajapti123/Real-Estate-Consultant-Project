{% extends "base-en.html" %}
{% block title %}
  PDF
{% endblock title %}
{% block style %}
<style>
.pdf-card {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  text-align: center;
}

.pdf-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 24px rgba(0,0,0,0.12);
}

.pdf-thumb img {
  width: 100%;
  height: auto;
  display: block;
}

.pdf-content {
  padding: 20px;
}

.pdf-content h5 {
  font-size: 20px;
  margin: 10px 0 20px;
  color: #04233b;
  font-weight: 600;
}

.download-btn {
  display: inline-block;
  padding: 10px 20px;
  background: #064d78;
  color: #fff;
  border-radius: 30px;
  text-decoration: none;
  font-weight: 500;
  transition: background 0.3s ease;
}

.download-btn:hover {
  background: #04233b;
  color: white;
}
</style>
{% endblock style %}

{% block body %}

<div id="downloadToast" style="
  position: fixed;
  top: 20px;
  left: -400px;
  background-color: #064d78;
  color: white;
  padding: 15px 25px;
  border-radius: 4px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  font-size: 16px;
  z-index: 9999;
  transition: left 0.5s ease;
">
  PDF was downloaded successfully!
</div>

<section style="padding: 20px 0; background-color: #f9fbfd; margin-top: 20px;">
  <div class="container">
    <div class="heading_container" style="text-align: center; margin-bottom: 40px;">
      <h2 style="text-align: center;width:100%;">
        Download <span>our PDFs</span>
      </h2>
      <p style="text-align: center;width:100%;">
        Easily access our brochures, guides, and resources. Click below to view or download them.
      </p>
    </div>
  </div>
  <div class="container">
    <div class="row justify-content-center" style="
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      padding-left: 16px;
      padding-right: 10px;
    " id="pdfsrow">
    </div>
  </div>
</section>

{% endblock body %}

{% block script %}
<script>
function fetchpdfs() {
  fetch(`${window.location.origin}/api/PdfManagemnt/?no_pagination=true`, {
    method: "GET",
  })
    .then((response) => response.json())
    .then((response) => {
      if (response.success == "True") {
        let str = "";
        data = response.data;
        data.forEach((data) => {
          str += `<div class="col-md-4 col-sm-6 mb-4">
        <div class="pdf-card no-thumb" style="box-shadow: 0px 0px 10px gray;">
          <div class="pdf-icon" style="padding: 15px; padding-bottom: 0px;">
            <img src="/static/images/pdf.png" alt="">
          </div>
          <div class="pdf-content" style="padding-top: 0px;">
            <h5>${data.pdf_name}</h5>
            <a href="${data.pdf_file}" 
               target="_blank" 
               class="download-btn" 
               download 
               onclick="showDownloadToast()">
               Download
            </a>
            <a href="${data.pdf_file}" 
               target="_blank" 
               class="download-btn">
               Open
            </a>
          </div>
        </div>
      </div>`;
        });

        document.getElementById("pdfsrow").innerHTML = str;
      } else {
        alert("Error fetching the PDFs");
      }
    });
}

fetchpdfs();

function showDownloadToast() {
  const toast = document.getElementById("downloadToast");
  toast.style.left = "20px"; // Slide in
  setTimeout(() => {
    toast.style.left = "-400px"; // Slide out after 4 sec
  }, 4000);
}
</script>
{% endblock script %}
